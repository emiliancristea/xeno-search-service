# Xeno Search Service Configuration
# Copy this file to .env and customize the values for your deployment

# === Basic Service Configuration ===
SERVICE_NAME=xeno-search-service
SERVICE_VERSION=2.0.0
ENVIRONMENT=development
DEBUG=true
HOST=127.0.0.1
PORT=8000
WORKERS=1

# === Search Engine Configuration ===
# Available engines: searxng, duckduckgo, brave
SEARCH_ENGINES=searxng,duckduckgo
SEARXNG_INSTANCES=https://searx.tiekoetter.com,https://searx.be,https://searx.ninja
DUCKDUCKGO_ENABLED=true
BRAVE_SEARCH_API_KEY=  # Get from https://brave.com/search/api/

# === Search Behavior ===
DEFAULT_NUM_RESULTS=10
MAX_RESULTS_PER_REQUEST=50
SEARCH_TIMEOUT=30

# === Deep Search Configuration ===
DEEP_SEARCH_ENABLED=true
DEEP_SEARCH_MAX_DEPTH=3
DEEP_SEARCH_MAX_LINKS_PER_LEVEL=8
DEEP_SEARCH_MIN_RELEVANCE_SCORE=0.25
DEEP_SEARCH_MAX_ADDITIONAL_SOURCES=15

# === NLP and AI Configuration ===
# Summarization model - options: facebook/bart-large-cnn, google/pegasus-xsum, etc.
SUMMARIZATION_MODEL=facebook/bart-large-cnn
SUMMARIZATION_MODEL_DEVICE=auto  # auto, cpu, cuda, mps
SUMMARIZATION_MAX_LENGTH=200
SUMMARIZATION_MIN_LENGTH=50

# Semantic search model for enhanced ranking
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
SEMANTIC_SEARCH_ENABLED=true
SEMANTIC_SIMILARITY_THRESHOLD=0.3

# === Caching Configuration ===
CACHE_ENABLED=true
CACHE_TYPE=redis  # redis, memory, file

# Redis Configuration (if using Redis caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SSL=false
# Or use a complete Redis URL:
# REDIS_URL=redis://localhost:6379/0

# Cache TTL (Time To Live) in seconds
CACHE_TTL_SEARCH_RESULTS=3600      # 1 hour
CACHE_TTL_PAGE_CONTENT=86400       # 24 hours
CACHE_TTL_SUMMARIES=604800         # 7 days

# === Scraping Configuration ===
SCRAPING_ENABLED=true
SCRAPING_TIMEOUT=15
SCRAPING_MAX_RETRIES=3
SCRAPING_DELAY=0.5

# User Agent Rotation
USER_AGENT_ROTATION=true
# Multiple user agents separated by ||
USER_AGENTS=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36||Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36

# Proxy Configuration (optional)
PROXY_ENABLED=false
PROXY_LIST=  # Comma-separated list of proxy URLs
PROXY_ROTATION=true

# === Content Processing ===
CONTENT_DEDUPLICATION=true
CONTENT_SIMILARITY_THRESHOLD=0.8
CONTENT_MIN_LENGTH=100
CONTENT_MAX_LENGTH=50000

# === Response Enhancement ===
INCLUDE_CONFIDENCE_SCORES=true
INCLUDE_CONTENT_CATEGORIES=true
INCLUDE_SOURCE_METADATA=true
INCLUDE_RELATED_QUERIES=true

# === Logging Configuration ===
LOGGING_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR
LOGGING_FORMAT=json  # json, text
LOGGING_FILE=  # Optional: path to log file

# === Monitoring and Metrics ===
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_ENABLED=true

# === Rate Limiting ===
RATE_LIMITING_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# === Security ===
API_KEY_REQUIRED=false
API_KEYS=  # Comma-separated list of valid API keys
CORS_ORIGINS=*  # Comma-separated list of allowed origins

# === Advanced Features ===
ENABLE_WEBSOCKET_UPDATES=true
ENABLE_STREAMING_RESPONSES=true
ENABLE_RESULT_RANKING=true
ENABLE_QUERY_EXPANSION=true

# === Database (Optional for persistent storage) ===
DATABASE_ENABLED=false
DATABASE_URL=  # e.g., postgresql://user:pass@localhost/dbname

# === Production-specific Settings ===
# Uncomment and configure for production deployment

# SSL/TLS
# SSL_ENABLED=true
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# Performance
# MAX_WORKERS=4
# WORKER_TIMEOUT=120
# KEEPALIVE_TIMEOUT=5

# External Services
# ELASTICSEARCH_URL=http://localhost:9200  # For advanced search features
# PROMETHEUS_URL=http://localhost:9090    # For external metrics collection

# === Example Production Values ===
# ENVIRONMENT=production
# DEBUG=false
# HOST=0.0.0.0
# WORKERS=4
# REDIS_URL=redis://redis-cluster:6379/0
# LOGGING_LEVEL=WARNING
# CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com